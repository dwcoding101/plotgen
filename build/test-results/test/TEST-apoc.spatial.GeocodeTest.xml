<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="apoc.spatial.GeocodeTest" tests="2" skipped="0" failures="1" errors="0" timestamp="2017-04-24T13:39:55" hostname="Pc" time="12.277">
  <properties/>
  <testcase name="testGeocodeGoogle" classname="apoc.spatial.GeocodeTest" time="12.143"/>
  <testcase name="testGeocodeOSM" classname="apoc.spatial.GeocodeTest" time="0.134">
    <failure message="org.neo4j.graphdb.QueryExecutionException: Failed to invoke procedure `apoc.spatial.geocodeOnce`: Caused by: java.lang.RuntimeException: Can't read url http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE as json: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE" type="org.neo4j.graphdb.QueryExecutionException">org.neo4j.graphdb.QueryExecutionException: Failed to invoke procedure `apoc.spatial.geocodeOnce`: Caused by: java.lang.RuntimeException: Can't read url http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE as json: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at org.neo4j.kernel.impl.query.QueryExecutionKernelException.asUserException(QueryExecutionKernelException.java:35)
	at org.neo4j.kernel.impl.factory.ClassicCoreSPI.executeQuery(ClassicCoreSPI.java:81)
	at org.neo4j.kernel.impl.factory.GraphDatabaseFacade.execute(GraphDatabaseFacade.java:429)
	at org.neo4j.kernel.impl.factory.GraphDatabaseFacade.execute(GraphDatabaseFacade.java:412)
	at apoc.util.TestUtil.testResult(TestUtil.java:86)
	at apoc.util.TestUtil.testCall(TestUtil.java:34)
	at apoc.spatial.GeocodeTest.testGeocodeAddress(GeocodeTest.java:100)
	at apoc.spatial.GeocodeTest.testGeocodeAddress(GeocodeTest.java:93)
	at apoc.spatial.GeocodeTest.testGeocode(GeocodeTest.java:63)
	at apoc.spatial.GeocodeTest.testGeocodeWithThrottling(GeocodeTest.java:49)
	at apoc.spatial.GeocodeTest.testGeocodeOSM(GeocodeTest.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)
	at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)
	at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)
	at sun.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:377)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)
	at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.neo4j.kernel.impl.query.QueryExecutionKernelException: Failed to invoke procedure `apoc.spatial.geocodeOnce`: Caused by: java.lang.RuntimeException: Can't read url http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE as json: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at org.neo4j.cypher.internal.javacompat.ExecutionEngine.executeQuery(ExecutionEngine.java:63)
	at org.neo4j.kernel.impl.factory.ClassicCoreSPI.executeQuery(ClassicCoreSPI.java:77)
	... 52 more
Caused by: org.neo4j.cypher.CypherExecutionException: Failed to invoke procedure `apoc.spatial.geocodeOnce`: Caused by: java.lang.RuntimeException: Can't read url http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE as json: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at org.neo4j.cypher.internal.spi.v3_1.ExceptionTranslationSupport$class.translateException(ExceptionTranslationSupport.scala:34)
	at org.neo4j.cypher.internal.compatibility.ExceptionTranslatingQueryContextFor3_1.translateException(ExceptionTranslatingQueryContextFor3_1.scala:34)
	at org.neo4j.cypher.internal.spi.v3_1.ExceptionTranslationSupport$class.translateIterator(ExceptionTranslationSupport.scala:45)
	at org.neo4j.cypher.internal.compatibility.ExceptionTranslatingQueryContextFor3_1.translateIterator(ExceptionTranslatingQueryContextFor3_1.scala:34)
	at org.neo4j.cypher.internal.compatibility.ExceptionTranslatingQueryContextFor3_1.callReadOnlyProcedure(ExceptionTranslatingQueryContextFor3_1.scala:133)
	at org.neo4j.cypher.internal.compiler.v3_1.executionplan.LazyReadOnlyCallMode.callProcedure(ProcedureCallMode.scala:46)
	at org.neo4j.cypher.internal.compiler.v3_1.executionplan.procs.ProcedureExecutionResult.executeCall(ProcedureExecutionResult.scala:58)
	at org.neo4j.cypher.internal.compiler.v3_1.executionplan.procs.ProcedureExecutionResult.&lt;init&gt;(ProcedureExecutionResult.scala:55)
	at org.neo4j.cypher.internal.compiler.v3_1.executionplan.procs.ProcedureCallExecutionPlan.createNormalExecutionResult(ProcedureCallExecutionPlan.scala:73)
	at org.neo4j.cypher.internal.compiler.v3_1.executionplan.procs.ProcedureCallExecutionPlan.run(ProcedureCallExecutionPlan.scala:63)
	at org.neo4j.cypher.internal.compatibility.CompatibilityFor3_1$ExecutionPlanWrapper$$anonfun$run$1.apply(CompatibilityFor3_1.scala:277)
	at org.neo4j.cypher.internal.compatibility.CompatibilityFor3_1$ExecutionPlanWrapper$$anonfun$run$1.apply(CompatibilityFor3_1.scala:275)
	at org.neo4j.cypher.internal.compatibility.exceptionHandlerFor3_1$runSafely$.apply(CompatibilityFor3_1.scala:192)
	at org.neo4j.cypher.internal.compatibility.CompatibilityFor3_1$ExecutionPlanWrapper.run(CompatibilityFor3_1.scala:275)
	at org.neo4j.cypher.internal.PreparedPlanExecution.execute(PreparedPlanExecution.scala:26)
	at org.neo4j.cypher.internal.ExecutionEngine.execute(ExecutionEngine.scala:107)
	at org.neo4j.cypher.internal.javacompat.ExecutionEngine.executeQuery(ExecutionEngine.java:59)
	... 53 more
Caused by: org.neo4j.kernel.api.exceptions.ProcedureException: Failed to invoke procedure `apoc.spatial.geocodeOnce`: Caused by: java.lang.RuntimeException: Can't read url http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE as json: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at org.neo4j.kernel.impl.proc.ReflectiveProcedureCompiler$ReflectiveProcedure.apply(ReflectiveProcedureCompiler.java:384)
	at org.neo4j.kernel.impl.proc.ProcedureRegistry.callProcedure(ProcedureRegistry.java:159)
	at org.neo4j.kernel.impl.proc.Procedures.callProcedure(Procedures.java:192)
	at org.neo4j.kernel.impl.api.OperationsFacade.callProcedure(OperationsFacade.java:1589)
	at org.neo4j.kernel.impl.api.OperationsFacade.procedureCallRead(OperationsFacade.java:1522)
	at org.neo4j.cypher.internal.spi.v3_1.TransactionBoundQueryContext$$anonfun$16.apply(TransactionBoundQueryContext.scala:606)
	at org.neo4j.cypher.internal.spi.v3_1.TransactionBoundQueryContext$$anonfun$16.apply(TransactionBoundQueryContext.scala:606)
	at org.neo4j.cypher.internal.spi.v3_1.TransactionBoundQueryContext.callProcedure(TransactionBoundQueryContext.scala:635)
	at org.neo4j.cypher.internal.spi.v3_1.TransactionBoundQueryContext.callReadOnlyProcedure(TransactionBoundQueryContext.scala:607)
	at org.neo4j.cypher.internal.compatibility.ExceptionTranslatingQueryContextFor3_1$$anonfun$callReadOnlyProcedure$1.apply(ExceptionTranslatingQueryContextFor3_1.scala:133)
	at org.neo4j.cypher.internal.compatibility.ExceptionTranslatingQueryContextFor3_1$$anonfun$callReadOnlyProcedure$1.apply(ExceptionTranslatingQueryContextFor3_1.scala:133)
	at org.neo4j.cypher.internal.spi.v3_1.ExceptionTranslationSupport$class.translateException(ExceptionTranslationSupport.scala:32)
	... 69 more
Caused by: java.lang.RuntimeException: Can't read url http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE as json: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at apoc.util.JsonUtil.loadJson(JsonUtil.java:47)
	at apoc.util.JsonUtil.loadJson(JsonUtil.java:52)
	at apoc.spatial.Geocode$OSMSupplier.geocode(Geocode.java:161)
	at apoc.spatial.Geocode.geocode(Geocode.java:231)
	at apoc.spatial.Geocode.geocodeOnce(Geocode.java:225)
	at java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)
	at org.neo4j.kernel.impl.proc.ReflectiveProcedureCompiler$ReflectiveProcedure.apply(ReflectiveProcedureCompiler.java:362)
	... 80 more
Caused by: java.io.IOException: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1890)
	at sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1885)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1884)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1457)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)
	at apoc.util.Util.openInputStream(Util.java:271)
	at apoc.util.JsonUtil.loadJson(JsonUtil.java:37)
	... 86 more
Caused by: java.io.IOException: Server returned HTTP response code: 503 for URL: http://nominatim.openstreetmap.org/search.php?format=json&amp;q=21+rue+Paul+Bellamy+44000+NANTES+FRANCE
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)
	at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)
	at apoc.util.Util.handleRedirect(Util.java:251)
	at apoc.util.Util.openInputStream(Util.java:262)
	... 87 more
</failure>
  </testcase>
  <system-out><![CDATA[Fast google test took 2444ms
Slow google test took 9577ms
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
